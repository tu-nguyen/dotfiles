# ~/.bash_extras/.bash_tt

br="------------------------------------------------------------------------------------------"

# Generalized function printer
function print_tt() {
    local file="$1"
    if [[ ! -f "$file" ]]; then
        echo "File not found: $file"
        return 1
    fi

    awk '
    BEGIN { comment="" }
    /^#/ { comment = $0; next }
    /^[a-zA-Z_][a-zA-Z0-9_]* *\(\) *\{/ {
        gsub(/^# *|^## */, "", comment)
        sub(/ *\(\) *\{/, "", $0)
        printf "%-20s -> %s\n", $0, comment
        comment=""
    }' "$file"
}

function dktt() {
  dktt_ref
  printf "%s\n" "$br"  
  print_tt "$EXTRAS_DIR/.bash_docker_functions"
}

function tt() {
  printf "\n"
  printf "primary functions    -> r (source .bashrc)  -> p4 (ping)\n"
  printf "                     -> c (clear)           -> diskspace ()\n"
  printf "                     -> h (history)         -> folder ()\n"
  printf "                     -> x (exit)            -> so0 (cmatrix)\ \n"
  printf "                     -> v (vim)             -> myip (curl icanhazip.com)\\n"

  # ls
  printf "%s\n" "$br"
  printf "ls                   -> ll (ls -alh)\n"
  printf "                     -> la (ls -A)\n"
  printf "                     -> lsd (ls -a1F | grep /$)\n"
  printf "                     -> lt (la -lt)\n"
  printf "                     -> la (ls -A)\n"
  # cd
  printf "%s\n" "$br"
  printf "cd                   -> ~ (cd ~)\n"
  printf "                     -> .. (cd ..)\n"
  printf "                     -> ... (cd ../..)\n"
  printf "                     -> ... (cd ../../..)\n"
  
  printf "%s\n" "$br"
  printf "other functions      \n"
  print_tt "$EXTRAS_DIR/.bash_functions"
  
  printf "%s\n" "$br"
  printf "ttcs                 -> to view bash cheatsheet\n"
  printf "dktt                 -> to view docker stuff\n"

  if [[ ! -f "$EXTRAS_DIR/.bash_twork" ]]; then
    printf "tworktt              -> .bash_twork does not exist inside .bash_extras\n"
  else
    printf "tworktt              -> to view twork stuff\n"
  fi
}
