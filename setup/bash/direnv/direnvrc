# Custom layout for uv
layout_uv() {
    local venv="${UV_PROJECT_VENV:-.venv}"
    if [[ -n "$UV_PROJECT_VENV" && -d "$UV_PROJECT_VENV" ]]; then
        source_env "$UV_PROJECT_VENV/bin/activate"
    if [[ -d .venv ]]; then
        source_env .venv/bin/activate
    elif [[ -d venv ]]; then
        source_env venv/bin/activate
    fi
}

if [[ -f uv.lock || -f pyproject.toml ]]; then
    layout_uv
fi
